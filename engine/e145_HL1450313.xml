<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="../isisxsl.xsl"?>
<isis lang="en">
    <stitle>DT-466E and 530E Diesel Engine Diagnostics (1995) - ELECTRONIC CONTROL SYSTEM DIAGNOSTICS - CIRCUIT FUNCTION
        AND DIAGNOSTICS - VPM COMMUNICATIONS
    </stitle>
    <svcman/>
    <svcproc id="hl1450313" svcproctype="proctype" graphiccount="9">
        <title>VPM COMMUNICATIONS</title>
        <svcsubproc>
            <title>(Data Communications Link, ATA Link)</title>
            <para>
                <hotlnk xrefid="ef1450341">Figure 3.30 Data Communications Link, ATA Link</hotlnk>
            </para>
            <figure id="ef1450341" figsize="col-wide">
                <graphic id="eg1198" filename="../figeg1/eg1198.webp" type="webp"/>
                <caption>Figure 3.30 Data Communications Link, ATA Link</caption>
            </figure>
        </svcsubproc>
        <svcsubproc>
            <title>SIGNAL FUNCTIONS</title>
            <para>
                <emph type="bold">Data Communication Link -</emph>the Data Communication Link signal is a 0 to 5 volt
                variable width wave form signal that enables communication between the Vehicle Personality Module (VPM)
                and the ECM. It is used for communication of diagnostic and calibration data.
            </para>
            <para>
                <emph type="bold">ATA Diagnostic/Programming Link -</emph>The ATA signal is a 0 to 5 volt width wave
                form signal that enables communication between the VPM and the Electronic Service Tool (EST). It is used
                for communication of calibration, programming and diagnostic information.
            </para>
            <para>
                <emph type="bold">Tachometer Signal -</emph>The ECM provides the VPM with a 0 to 12 volt tachometer
                signal. The frequency of the signal is one-fifth (1/5th) the RPM.
            </para>
        </svcsubproc>
        <svcsubproc>
            <title>FAULT DETECTION/MANAGEMENT</title>
            <para>The VPM and ECM can detect on a continuous basis an open, short or intermittent connection on the DCL
                and ATA lines.
            </para>
            <para>
                <hotlnk xrefid="ef1450342">Figure 3.31 DCL/ATA Communications Circuit Diagnostics</hotlnk>
            </para>
            <figure id="ef1450342" figsize="col-wide">
                <graphic id="eg5963" filename="../figeg5/eg5963.webp" type="webp"/>
                <caption>Figure 3.31 DCL/ATA Communications Circuit Diagnostics</caption>
            </figure>
        </svcsubproc>
        <svcsubproc>
            <title>EXTENDED DESCRIPTION ECM/VPM COMMUNICATION</title>
            <para>The Navistar engine control system includes the Electronic Control Module (ECM), Vehicle Personality
                Module (VPM), and Injector Driver Module (IDM). Refer to
                <emph type="bold">Figure
                    <hotlnk xrefid="ef1450343">3.32</hotlnk>
                </emph>
                for the following discussion.
            </para>
            <para>The engine control system "communicates" with the Electronic Service Tool through connector (384) as
                shown in
                <emph type="bold">Figure
                    <hotlnk xrefid="ef1450343">3.32</hotlnk>
                </emph>
                The EST communicates with the VPM using the American Trucking Association (ATA) data link lines(1).
            </para>
            <para>The ECM communicates with the VPM through a proprietary data link channel (DCL). The Digital
                Communications Link (DCL) channel connects the ECM and the VPM.
            </para>
            <para>Both the ATA and DCL circuits use twisted wire pairs. All repairs to these pairs must maintain one
                complete twist per inch along the entire length of the circuits. These circuits are polarized (one
                positive and one negative) and reversing the polarity of these circuits will disrupt communications.
            </para>
            <para>
                <emph type="bold">(1)</emph>
                - The ATA data link is defined by SAE recommended practices J1708 and J1587. This link and connector
                (384) were adopted by the Recommended Practices 1201 and 1202.
            </para>
        </svcsubproc>
        <svcsubproc>
            <title>ATA Communications</title>
            <para>Refer to the circuit diagram
                <emph type="bold">Figure
                    <hotlnk xrefid="ef1450344">3.33</hotlnk>
                </emph>
                for the following discussion.
            </para>
        </svcsubproc>
        <svcsubproc>
            <title>ATA Data Link Connector (384)</title>
            <para>All communications between the EST (Prolink 9000TM using the Navistar cartridge) and the engine
                control system is done through the EST connector (384). This communications link supports:
            </para>
            <randlist type="bullet">
                <item>
                    <para>Displaying fault codes and operating conditions on the EST.</para>
                </item>
                <item>
                    <para>Performing proprietary diagnostic tests programmed into the cartridge.</para>
                </item>
                <item>
                    <para>Clearing fault codes.</para>
                </item>
                <item>
                    <para>Programming performance parameter values.</para>
                </item>
            </randlist>
            <para>EST connector (384) has six pins, labeled A through F,
                <emph type="bold">Figure
                    <hotlnk xrefid="ef1450343">3.32</hotlnk>
                </emph>
                that provide the following:
            </para>
            <seqlist style="alphauc">
                <item>
                    <para>Fused BATTERY power is provided to Pin "C" to provide battery power for electronic service
                        tools. Pin "E" provides a battery ground for the EST.
                    </para>
                </item>
                <item>
                    <para>Connector (384) terminal A is connected by circuit 98B(+) to the positive RED ATA bus and EST
                        connector (384) terminal B is connected by circuit 98D(-) to the negative BLUE (428) bus. These
                        two connections allow communication with all components connected to the data link at these same
                        two busses.
                    </para>
                </item>
            </seqlist>
            <figure id="ef1450343" figsize="col-wide">
                <graphic id="eg1123" filename="../figeg1/eg1123.webp" type="webp"/>
                <caption>Figure 3.32
                    <emph type="bold">ATA and DCL Communication</emph>
                </caption>
            </figure>
        </svcsubproc>
        <svcsubproc>
            <title>Positive And Negative ATA Data Links</title>
            <para>The RED Positive and BLUE Negative Data Link Busses connect the EST connector (384) and the VPM (381).
                They are also the connection point for other electronic components that require access to the engine
                control system through the ATA communications link.
            </para>
            <para>The RED positive bus (427) is connected by circuit 98A(+) to the VPM at connector (381), terminal 11.
                The BLUE negative bus (428) is connected by circuit 98C(-) to the VPM at connector (381), terminal 12.
            </para>
        </svcsubproc>
        <svcsubproc>
            <title>DCL Communication Links</title>
            <para>The VPM is connected to the ECM through the DCL. The DCL connection between the ECM and the VPM serves
                as a conduit for data sent on the ATA to be shared with the ECM. Communications between the ECM and the
                EST connector go through the VPM.
            </para>
        </svcsubproc>
        <svcsubproc>
            <title>VPM - ECM Communications</title>
            <para>The positive (+) DCL link is circuit 97AS, which connects ECM connector (379) terminal 28, to the VPM
                through connector (381), terminal 13. The negative (-) DCL link is circuit 97AT, which connects ECM
                connector (379), terminal 9 to the VPM through connector (381), terminal 14. These two circuits (97AS
                and 97AT) are a twisted wire pair and pass through dash connector (3) at terminals 8 and 1.
            </para>
            <para>Both the ATA and DCL circuits use twisted wire pairs. All repairs to these wire pairs must maintain
                one complete twist per inch along the entire length of the circuits. Both circuits are polarized (one
                positive and one negative) and reversing the polarity of the circuit will disrupt communications.
            </para>
        </svcsubproc>
        <svcsubproc>
            <title>ECM DIAGNOSTICS</title>
            <para>Flash codes that can be caused by defects occurring in the ATA or DCL circuits are discussed in this
                section. There are also Flash Codes related to or caused by faulty communication (corrupt or invalid
                data transmitted between the ECM and VPM), that are discussed in this section.
            </para>
        </svcsubproc>
        <svcsubproc>
            <title>EST Connector (384)</title>
            <para>The engine control system
                <emph type="underscr">does not detect</emph>
                faults in the power or ground circuits to EST connector (384). If the service tool does not power up
                when connected, try the service tool on another vehicle if one is available to determine if the service
                tool is working properly. If the service tool is OK, then perform Testing EST Connector (384) Power and
                Ground Circuits
                <emph type="bold">Figure
                    <hotlnk xrefid="ef1450345">3.34</hotlnk>.
                </emph>
            </para>
        </svcsubproc>
        <svcsubproc>
            <title>EST Displays</title>
            <para>Should the EST display NO DATA, the ATA data link circuit from the EST connector to the VPM may be
                disrupted. Verify that the key is ON and then perform Testing The ATA Data Link Circuits
                <emph type="bold">Figures</emph>
                <emph type="bold">
                    <hotlnk xrefid="ef1450346">3.35</hotlnk>
                    and 3.35a.
                </emph>
            </para>
            <para>
                <title>FAULT CODES</title>
            </para>
        </svcsubproc>
        <svcsubproc>
            <title>Flash Code 223</title>
            <para>
                <title>ATA CODE SID 252 FMI 7</title>
            </para>
            <para>
                <title>VPM NOT COMMUNICATING WITH ECM</title>
            </para>
            <para>
                <emph type="bold">Symptom:</emph>Flash code 223 causes the engine to operate in Field Defaults, which
                turns the Engine Warning Light ON. When Field Defaults are being used by the ECM, Flash Code 622 also is
                set. If the condition causing code 223 is intermittent, and the condition is no longer present, the code
                will change to an inactive code, and the engine will resume normal operation.
            </para>
            <para>
                <emph type="bold">Wiring Causes:</emph>
                DCL circuits 97AS and/or 97AT between the ECM and VPM: shorted Low or High or Open.
            </para>
            <para>If code 223 is active:</para>
            <step1>
                <para count="1">Perform TESTING DCL CIRCUITS
                    <emph type="bold">Figure
                        <hotlnk xrefid="ef1450348">3.36</hotlnk>.
                    </emph>
                </para>
                <step2>
                    <para count="1">If defect is found in DCL circuit, correct defect.</para>
                </step2>
                <step2>
                    <para count="1">If the DCL circuits (97AT and 97AS) check good, replace the VPM.</para>
                </step2>
            </step1>
            <para>
                <title>Flash Code 231</title>
            </para>
            <para>
                <title>ATA CODE SID 250 FMI 2</title>
            </para>
            <para>
                <title>VPM: ATA COMMON FAULT</title>
            </para>
            <para>
                <emph type="bold">SYMPTOM:</emph>Code 231
                <emph type="bold">does not</emph>
                turn Engine Warning light ON. This code can occur when the VPM can't access the ATA data link. If this
                occurs, there will not be any ATA data available at the electronic service tool (EST). The code can be
                "flashed" using the STI switch located on the instrument panel.
            </para>
            <para>
                <emph type="bold">WIRING CAUSES:</emph>ATA positive or negative circuits between EST and VPM and any
                other electronic devices (transmissions, brakes etc.) using the ATA bus: Shorted (high or low), open, or
                busy (too many devices).
            </para>
            <para>If code 231 is active:</para>
            <step1>
                <para count="1">Perform Testing the ATA Data Link Circuits
                    <emph type="bold">Figures</emph>
                    <emph type="bold">
                        <hotlnk xrefid="ef1450346">3.35</hotlnk>
                        and 3.35a.
                    </emph>
                </para>
                <step2>
                    <para count="1">If defect is found in ATA circuits, correct defect.</para>
                </step2>
                <step2>
                    <para count="1">If defect is not found in ATA circuits, investigate SYSTEM CAUSES.</para>
                </step2>
            </step1>
            <step1>
                <para count="1">
                    <emph type="bold">SYSTEM CAUSES:</emph>System causes can include:
                </para>
                <step2>
                    <para count="1">A defective ATA device (such as transmission controller or antilock brake
                        controller) connected to the ATA bus is pulling the signal to ground.
                    </para>
                </step2>
                <step2>
                    <para count="1">Too many ATA devices, although this would be rare.</para>
                </step2>
                <step2>
                    <para count="1">If no system causes are present, replace the VPM.</para>
                </step2>
            </step1>
            <para>
                <title>Flash Code232</title>
            </para>
            <para>
                <title>ATA CODE SID 250 FMI 9</title>
            </para>
            <para>
                <title>VPM: UNABLE TO FORWARD ECM MESSAGE TO ATA DCL</title>
            </para>
            <para>
                <emph type="bold">SYMPTOM:</emph>There are no ECM replies to requests from the EST or VPM. Flash Code
                232
                <emph type="bold">does not</emph>
                turn the Engine Warn Light ON.
            </para>
            <para>
                <emph type="bold">WIRING CAUSES:</emph>The positive and/or negative ATA data link circuits between the
                EST and VPM (or other devices installed using the ATA link): Shorted High or Low or Open.
            </para>
            <para>If code 232 is active:</para>
            <step1>
                <para count="1">Perform Testing the ATA Data Link Circuits
                    <emph type="bold">Figures</emph>
                    <emph type="bold">
                        <hotlnk xrefid="ef1450346">3.35</hotlnk>
                        and 3.35a.
                    </emph>
                </para>
                <step2>
                    <para count="1">If wiring defect is found, correct defect.</para>
                </step2>
                <step2>
                    <para count="1">If no wiring defects are found, investigate System Causes.</para>
                </step2>
            </step1>
            <step1>
                <para count="1">
                    <emph type="bold">SYSTEM CAUSES:</emph>Code 232 can occur when the ECM is sending more messages than
                    the VPM can transmit on the ATA bus. This can be caused by:
                </para>
                <step2>
                    <para count="1">A defective ATA device (such as transmission controller or antilock brake
                        controller) connected to the ATA bus pulling the signal to ground.
                    </para>
                </step2>
                <step2>
                    <para count="1">Too many ATA devices or an incompatible ATA device has been connected to the ATA
                        bus.
                    </para>
                </step2>
                <step2>
                    <para count="1">May be caused by code 231 occurring.</para>
                </step2>
                <step2>
                    <para count="1">If none of the system causes are present, replace the VPM.</para>
                </step2>
            </step1>
            <para>
                <title>Flash Code234</title>
            </para>
            <para>
                <title>ATA CODE SID 248 FMI 9</title>
            </para>
            <para>
                <title>VPM: UNABLE TO FORWARD ATA MESSAGE TO ECM.</title>
            </para>
            <para>
                <emph type="bold">SYMPTOM:</emph>There are no ECM replies to requests from the EST or VPM. There is NO
                Engine Warning Light. Code 223 may also be present.
            </para>
            <specpara>
                <note>
                    <para>Code 234 can be set by connecting the EST when the key is OFF. If the key was recently turned
                        off, the VPM may still be powered. The VPM can stay on for up to 30 minutes after turning the
                        key off. If the prolink is connected (key off), the VPM will unsuccessfully request data from
                        the ECM, which is not powered with the key off. If this occurs, turn the key on and clear the
                        codes.
                    </para>
                </note>
            </specpara>
            <para>
                <emph type="bold">WIRING CAUSES:</emph>DCL positive or negative circuits (97AT and/or 97AS): Shorted
                High or Low or open between ECM and VPM.
            </para>
            <para>If code 234 is active:</para>
            <step1>
                <para count="1">Verify that ignition key is ON.</para>
            </step1>
            <step1>
                <para count="1">Perform Testing DCL Data Link Circuits
                    <emph type="bold">Figure
                        <hotlnk xrefid="ef1450348">3.36</hotlnk>.
                    </emph>
                </para>
                <step2>
                    <para count="1">If defect is found in DCL, correct defect.</para>
                </step2>
                <step2>
                    <para count="1">If no defects are in DCL, replace the ECM.</para>
                </step2>
            </step1>
            <para>
                <title>Flash Code 235</title>
            </para>
            <para>
                <title>ATA CODE SID 248 FMI 2</title>
            </para>
            <para>
                <title>VPM: VPM/ECM DCL FAULT</title>
            </para>
            <para>
                <emph type="bold">SYMPTOM:</emph>There are no ECM diagnostic replies to requests from the EST or VPM.
                Engine Warning Light OFF. If the condition causing code 235 to set is intermittent and the condition is
                no longer present, the code will go to inactive status.
            </para>
            <para>
                <emph type="bold">WIRING CAUSES:</emph>
                DCL circuits 97AT and/or 97AS are: shorted High or Low or Open between VPM and ECM.
            </para>
            <para>If code 235 is active, Perform Testing DCL Data Link Circuits
                <emph type="bold">Figure
                    <hotlnk xrefid="ef1450348">3.36</hotlnk>.
                </emph>
            </para>
            <step1>
                <para count="1"></para>
                <step2>
                    <para count="1">If wiring defect is found, correct defect.</para>
                </step2>
                <step2>
                    <para count="1">If wiring defect is not found, replace the ECM.</para>
                </step2>
            </step1>
            <para>
                <title>Flash Code 633</title>
            </para>
            <para>
                <title>ATA CODE SID 252 FMI 2</title>
            </para>
            <para>
                <title>
                    <emph type="bold">ECM:</emph>ECM/VPM COMMON FAULT
                </title>
            </para>
            <para>
                <emph type="bold">SYMPTOM:</emph>The engine operates on Field Defaults turning the Engine Warning Light
                ON and setting code 622.
            </para>
            <para>This code indicates that the ECM and VPM are communicating incorrectly. The message from the VPM
                contains bad data, or the VPM takes too long to respond to ECM requests for data. If this code is caused
                by an intermittent condition, and the condition is no longer present, the code will become inactive and
                normal engine operation will resume.
            </para>
            <para>
                <emph type="bold">WIRING CAUSES:</emph>DCL circuits 97AT or 97AS between ECM and VPM are: shorted Low,
                High or Open.
            </para>
            <para>If code 633 is active:</para>
            <step1>
                <para count="1">Perform Testing DCL Data Link Circuits
                    <emph type="bold">Figure
                        <hotlnk xrefid="ef1450348">3.36</hotlnk>.
                    </emph>
                </para>
                <step2>
                    <para count="1">If defect is found in DCL, correct.</para>
                </step2>
                <step2>
                    <para count="1">If there are no defects in the DCL, refer to codes 613 and 614 and verify that the
                        ECM and VPM have the correct software versions. If the software versions are correct, replace
                        the VPM.
                    </para>
                    <figure id="ef1450344" figsize="col-wide">
                        <graphic id="eg5965" filename="../figeg5/eg5965.webp" type="webp"/>
                        <caption>Figure 3.33 Circuit Diagram ATA and DCL Communication Links</caption>
                    </figure>
                </step2>
            </step1>
        </svcsubproc>
        <svcsubproc>
            <title>TROUBLESHOOTING</title>
            <para>The DCL and ATA circuits operate with very low current levels. When troubleshooting the DCL or ATA,
                pay special attention to the connectors.
            </para>
        </svcsubproc>
        <svcsubproc>
            <title>Before Performing Any Test</title>
            <para>Inspect for pushed back, damaged, corroded or dirty terminals as well as making sure that the terminal
                and wire are properly crimped. Make sure the connectors are properly joined together. Also check for
                damage to wiring, and clean tight ground connections.
            </para>
            <figure id="ef1450345" figsize="col-wide">
                <graphic id="eg5966" filename="../figeg5/eg5966.webp" type="webp"/>
                <caption>Figure 3.34 Testing EST Connector (384) Power and Ground Circuits</caption>
            </figure>
            <specpara>
                <note>
                    <para>Refer to circuit diagram Figure
                        <hotlnk xrefid="ef1450344">3.33</hotlnk>.
                    </para>
                </note>
            </specpara>
            <figure id="ef1450346" figsize="col-wide">
                <graphic id="eg5967" filename="../figeg5/eg5967.webp" type="webp"/>
                <caption>Figure 3.35 Testing the ATA Data Link Circuits</caption>
            </figure>
            <specpara>
                <note>
                    <para>Refer to circuit diagram Figure
                        <hotlnk xrefid="ef1450344">3.33</hotlnk>.
                    </para>
                </note>
            </specpara>
            <para>
                <hotlnk xrefid="ef1450347">Figure 3.35a Testing the ATA Data Link Circuits</hotlnk>
            </para>
            <figure id="ef1450347" figsize="col-wide">
                <graphic id="eg5968" filename="../figeg5/eg5968.webp" type="webp"/>
                <caption>Figure 3.35a Testing the ATA Data Link Circuits</caption>
            </figure>
            <figure id="ef1450348" figsize="col-wide">
                <graphic id="eg5969" filename="../figeg5/eg5969.webp" type="webp"/>
                <caption>Figure 3.36 Testing DCL Data Link Circuits</caption>
            </figure>
            <specpara>
                <note>
                    <para>Refer to circuit diagram Figure
                        <hotlnk xrefid="ef1450344">3.33</hotlnk>.
                    </para>
                </note>
            </specpara>
            <para>
                <hotlnk xrefid="ef1450349">Figure 3.36a Testing DCL Data Link Circuits</hotlnk>
            </para>
            <figure id="ef1450349" figsize="col-wide">
                <graphic id="eg5970" filename="../figeg5/eg5970.webp" type="webp"/>
                <caption>Figure 3.36a Testing DCL Data Link Circuits</caption>
            </figure>
        </svcsubproc>
    </svcproc>
    <table>
        <tgroup cols="3">
            <tbody>
                <row>
                    <entry>
                        <para>
                            <hotlnk document="e145_HL1450312.xml">
                                <con_previous/>
                            </hotlnk>
                        </para>
                    </entry>
                    <entry>
                        <para>
                            <hotlnk document="e145_HL1450314.xml">
                                <con_next/>
                            </hotlnk>
                        </para>
                    </entry>
                    <entry>
                        <para>
                            <hotlnk document="e145.htm" target="_top">
                                <con_toc/>
                            </hotlnk>
                        </para>
                    </entry>
                </row>
            </tbody>
        </tgroup>
    </table>
</isis>
