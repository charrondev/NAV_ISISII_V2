<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="../isisxsl.xsl"?>
<isis lang="en">
    <stitle>VT-365 Diesel Engine Diagnostics (2002) - ELECTRONIC CONTROL SYSTEMS DIAGNOSTICS - Circuit Diagnostics -
        Electronic Control Module (ECM) / Injector Driver Module (IDM) Communications
    </stitle>
    <svcman/>
    <svcproc svcproctype="describe" graphiccount="4">
        <title>Electronic Control Module (ECM) / Injector Driver Module (IDM) Communications</title>
        <svcprocinfo>
            <figure id="f24007" figsize="pg-wide">
                <graphic id="d31108" filename="../figd31/D31108.webp" type="webp" scalefit="1" scalefitwidth="472px"/>
                <caption>Function Diagram for the ECM / IDM Communication system</caption>
            </figure>
            <para>The Function Diagram for the ECM / IDM communication system includes the following:</para>
            <randlist type="bullet">
                <item>
                    <para>Electronic Control Module (ECM)</para>
                </item>
                <item>
                    <para>Injector Driver Module (IDM)</para>
                </item>
                <item>
                    <para>Crankshaft Position Output (CKPO) signal</para>
                </item>
                <item>
                    <para>Camshaft Position Output (CMPO) signal</para>
                </item>
                <item>
                    <para>Controller Area Network (CAN 2) link</para>
                </item>
            </randlist>
            <para>
                <title>Function</title>
            </para>
            <para>The Electronic Control Module (ECM) provides two output channels to aid the Injector Driver Module
                (IDM) with engine speed and position signals. The Crankshaft Position Output (CKPO) and Camshaft
                Position Output (CMPO) channels are in phase with the CKP and CMP signals received by the ECM.
            </para>
            <para>The ECM and IDM are in continuous communication. The CKPO and CMPO convert the CKP and CMP signals
                into switching controls that interface with the IDM.
            </para>
            <para>The Controller Area Network (CAN 2) link is a bi-directional communication line between the ECM and
                IDM. Both controllers use the link to send operating strategies, sensor information, diagnostic demands,
                and Diagnostic Trouble Codes (DTCs).
            </para>
            <specpara>
                <note>
                    <para>The engine will not operate without the CAN 2, CKPO, or CMPO signal.</para>
                </note>
            </specpara>
        </svcprocinfo>
        <svcsubproc>
            <title>ECM / IDM Circuit Operation</title>
            <figure id="f24007" figsize="pg-wide">
                <graphic id="d31107" filename="../figd31/D31107.webp" type="webp" scalefit="1" scalefitwidth="472px"/>
                <caption>ECM / IDM Circuit Diagram</caption>
            </figure>
            <para>The ECM / IDM communication link consists of a series of interdependent signals that include the
                Crankshaft Position Output (CKPO), Camshaft Position Output (CMPO), and the Controller Area Network (CAN
                2) link.
            </para>
            <para>The CKPO signal is a 0 to 12V signal that communicates from the ECM to the IDM the position of the
                crankshaft. The signal is used by the IDM to synchronize the injector firing sequence and is calculated
                from the signal generated from the CKP sensor. The ECM generates the CKPO signal by pulling down
                (switching to ground) a 12V communication circuit in the IDM.
            </para>
            <para>The CMPO signal is a 0 to 12V signal that communicates from the ECM to the IDM the position of the
                camshaft. The signal is used by the IDM to synchronize the injector firing sequence and is calculated
                from the signal generated from the CMP sensor. The ECM generates the CMPO signal by pulling down
                (switching to ground) a 12V communication circuit in the IDM.
            </para>
            <para>CAN 2 is a J1939 high speed private communication link between the ECM and IDM. The ECM receives
                messages that include injector coil status, IDM calibration level, CMPO and CKPO DTCs, injector DTCs,
                IDM DTCs, and injector test results from the IDM. The IDM receives injector diagnostic commands,
                operation strategies, modes and conditions from the ECM.
            </para>
            <specpara>
                <note>
                    <para>CAN 2 is used only as communication between the ECM and IDM. There is no relation to the CAN 1
                        link that is used for communication with various processors on a vehicle.
                    </para>
                </note>
            </specpara>
            <para>
                <title>Fault Detection / Management</title>
            </para>
            <para>The ECM continuously monitors the IDM. When the ECM fails to receive required continuous communication
                from the IDM, the ECM will set a DTC.
            </para>
            <para>
                <title>ECM / IDM Diagnostic Trouble Codes (DTCs)</title>
            </para>
            <para>DTCs are read using the Electronic Service Tool (EST) or by counting the flashes from the amber and
                red ENGINE lamp.
            </para>
            <verbatim id="f240dtc543">
                <line>
                    <emph type="bold">DTC 543</emph>
                </line>
                <line>
                    <emph type="bold">ECM / IDM communication fault</emph>
                </line>
            </verbatim>
            <randlist type="bullet">
                <item>
                    <para>DTC 543 is set by the ECM when the ECM is not communicating with the IDM.</para>
                </item>
                <item>
                    <para>DTC 543 can be set when CAN 2 J1939 between ECM and IDM is shorted to ground, V
                        <subscript>REF</subscript>, or battery or the current is open. If IDM power is low, DTC 543 can
                        be set.
                    </para>
                </item>
                <item>
                    <para>When DTC 543 is active the amber ENGINE lamp is illuminated.</para>
                </item>
            </randlist>
            <verbatim id="f240dtc551">
                <line>
                    <emph type="bold">DTC 551</emph>
                </line>
                <line>
                    <emph type="bold">IDM / CMPO signal inactive</emph>
                </line>
            </verbatim>
            <randlist type="bullet">
                <item>
                    <para>DTC 551 is set by the ECM when no CMPO signal is present while the CKPO is active. DTC 551 can
                        also be set when no CMPO/CKPO is present while the ECM reports it is in the run mode.
                    </para>
                </item>
                <item>
                    <para>DTC 551 can be set when the CMPO is open, or shorted to ground or shorted to a voltage source.
                        If Logic power is low, DTC 551 can be set.
                    </para>
                </item>
            </randlist>
            <verbatim id="f240dtc552">
                <line>
                    <emph type="bold">DTC 552</emph>
                </line>
                <line>
                    <emph type="bold">IDM incorrect CMPO signal signature</emph>
                </line>
            </verbatim>
            <randlist type="bullet">
                <item>
                    <para>DTC 552 is set when the CMPO transition occurs at the wrong CKPO tooth.</para>
                </item>
                <item>
                    <para>DTC 552 can be set due to a camshaft incorrectly timed to crankshaft or an electrical noise
                        creating a miscount on CMP location.
                    </para>
                </item>
            </randlist>
            <verbatim id="f240dtc553">
                <line>
                    <emph type="bold">DTC 553</emph>
                </line>
                <line>
                    <emph type="bold">IDM / CKPO signal inactive</emph>
                </line>
            </verbatim>
            <randlist type="bullet">
                <item>
                    <para>DTC 553 is set by the ECM when no CKPO signal is present while the CMPO is active. DTC 552 can
                        also be set when no CMPO/CKPO is present while the ECM reports it is in the run mode.
                    </para>
                </item>
                <item>
                    <para>DTC 553 can be set when CKPO is open, shorted to ground, or shorted to a voltage source. DTC
                        553 can also be set If logic power is low.
                    </para>
                </item>
            </randlist>
            <verbatim id="f240dtc554">
                <line>
                    <emph type="bold">DTC 554</emph>
                </line>
                <line>
                    <emph type="bold">IDM incorrect CKPO signal signature</emph>
                </line>
            </verbatim>
            <randlist type="bullet">
                <item>
                    <para>DTC 554 is set by the ECM when CKPO signal has too few or too many transitions per engine
                        rotation.
                    </para>
                </item>
                <item>
                    <para>DTC 554 can be set due to an electrical noise or a defective CKP sensor.</para>
                </item>
            </randlist>
            <para>
                <title>Tools</title>
            </para>
            <randlist type="bullet">
                <item>
                    <para>Electronic Service Tool (EST) with Master Diagnostics software</para>
                </item>
                <item>
                    <para>International&#174; EZ-Tech Interface Cable</para>
                </item>
                <item>
                    <para>Digital Multimeter (DMM)</para>
                </item>
                <item>
                    <para>Breakout box</para>
                </item>
                <item>
                    <para>Terminal Test Adapter Kit</para>
                </item>
            </randlist>
        </svcsubproc>
        <svcsubproc>
            <title>ECM / IDM Pin Point Diagnostics</title>
            <figure id="f24007" figsize="pg-wide">
                <graphic id="d31107" filename="../figd31/D31107.webp" type="webp" scalefit="1" scalefitwidth="472px"
                         scalefitheight="592px"/>
                <caption>ECM / IDM Circuit Diagram</caption>
            </figure>
            <table id="te24007029" tblwidth="pg-wide" frame="bottom">
                <tgroup cols="3">
                    <colspec colname="col1" colwidth="2.00in"/>
                    <colspec colname="col2" colwidth="0.94in"/>
                    <colspec colname="col3" colwidth="3.00*"/>
                    <spanspec namest="col1" nameend="col3" spanname="SPAN1"/>
                    <tbody>
                        <row>
                            <entry colspan="3" spanname="SPAN1">
                                <warning>
                                    <para>To avoid serious personal injury, possible death, or damage to the engine or
                                        vehicle, always disconnect main negative battery cable first. Always connect the
                                        main negative battery cable last.
                                    </para>
                                </warning>
                            </entry>
                        </row>
                        <row>
                            <entry colspan="3" spanname="SPAN1" align="center">
                                <caution>
                                    <para>To avoid damage to engine, before unplugging IDM connectors and relay, turn
                                        ignition key OFF. Failure to turn ignition key OFF will create a voltage spike
                                        and damage electrical components.
                                    </para>
                                </caution>
                            </entry>
                        </row>
                        <row>
                            <entry colspan="3" spanname="SPAN1">
                                <para>
                                    <emph type="bold">IDM Connector Voltage Checks to Chassis Ground</emph>
                                    (Check with breakout box on ECM engine harness connector X1 and X2 only. Turn
                                    ignition key ON and engine OFF. Do not connect breakout box to ECM. Inspect for bent
                                    pins or corrosion.)
                                </para>
                            </entry>
                        </row>
                        <row>
                            <entry colname="col1">
                                <para>Test Point</para>
                            </entry>
                            <entry colname="col2">
                                <para>Spec</para>
                            </entry>
                            <entry colname="col3">
                                <para>Comments</para>
                            </entry>
                        </row>
                        <row>
                            <entry colname="col1">
                                <para>X2-6 to gnd</para>
                            </entry>
                            <entry colname="col2">
                                <para>1-4V</para>
                            </entry>
                            <entry>
                                <para>Digital signal. If no voltage check for open or short to ground.</para>
                            </entry>
                        </row>
                        <row>
                            <entry colname="col1">
                                <para>X2-13 to gnd</para>
                            </entry>
                            <entry colname="col2">
                                <para>1-4V</para>
                            </entry>
                            <entry>
                                <para>Digital signal. If no voltage check for open or short to ground.</para>
                            </entry>
                        </row>
                        <row>
                            <entry colname="col1">
                                <para>X1-19 to gnd</para>
                            </entry>
                            <entry colname="col2">
                                <para>11-12V</para>
                            </entry>
                            <entry>
                                <para>If &#60;11-12V, check for open or short to ground. Check IDM power relay.</para>
                            </entry>
                        </row>
                        <row>
                            <entry colname="col1">
                                <para>X1-24 to gnd</para>
                            </entry>
                            <entry colname="col2">
                                <para>11-12V</para>
                            </entry>
                            <entry>
                                <para>If &#60;11-12V, check for open or short to ground. Check IDM power relay.</para>
                            </entry>
                        </row>
                        <row>
                            <entry colname="col1">
                                <para>X2-12 to gnd</para>
                            </entry>
                            <entry colname="col2">
                                <para>0V</para>
                            </entry>
                            <entry colname="col3">
                                <para>Ground, no voltage expected</para>
                            </entry>
                        </row>
                        <row>
                            <entry colspan="3" spanname="SPAN1">
                                <para>
                                    <emph type="bold">Resistance Checks to Chassis Ground</emph>
                                    (Check with breakout box on engine harness only at ECM connector X1 and X2. Turn
                                    ignition key OFF. Disconnect negative battery cable.)
                                </para>
                            </entry>
                        </row>
                        <row>
                            <entry colname="col1">
                                <para>X1-19 to gnd</para>
                            </entry>
                            <entry colname="col2">
                                <para>>1k&#x2126;</para>
                            </entry>
                            <entry colname="col3" morerows="3">
                                <para>If &#60;1k&#x2126;, check for short to ground or internal IDM problem. Test with
                                    IDM connector X3 disconnected. If problem remains, repair or replace harness. If
                                    disconnect of X3 corrected problem, replace IDM.
                                </para>
                            </entry>
                        </row>
                        <row>
                            <entry colname="col1">
                                <para>X1-24 to gnd</para>
                            </entry>
                            <entry colname="col2">
                                <para>>1k&#x2126;</para>
                            </entry>
                            <entry>
                                <para>-</para>
                            </entry>
                            <entry>
                                <para>-</para>
                            </entry>
                        </row>
                        <row>
                            <entry colname="col1">
                                <para>X2-6 to gnd</para>
                            </entry>
                            <entry colname="col2">
                                <para>>1k&#x2126;</para>
                            </entry>
                            <entry>
                                <para>-</para>
                            </entry>
                            <entry>
                                <para>-</para>
                            </entry>
                        </row>
                        <row>
                            <entry colname="col1">
                                <para>X2-13 to gnd</para>
                            </entry>
                            <entry colname="col2">
                                <para>>1k&#x2126;</para>
                            </entry>
                            <entry>
                                <para>-</para>
                            </entry>
                        </row>
                        <row>
                            <entry colname="col1">
                                <para>X2-12 to gnd</para>
                            </entry>
                            <entry colname="col2">
                                <para>&#60;10&#x2126;</para>
                            </entry>
                            <entry colname="col3">
                                <para>If >10&#x2126;, check for open in harness</para>
                            </entry>
                        </row>
                        <row>
                            <entry colspan="3" spanname="SPAN1">
                                <para>
                                    <emph type="bold">Harness Resistance Checks</emph>
                                    (Check with breakout box on ECM harness only at ECM connector X1 and X2. IDM checked
                                    at harness connector X3 using terminal test pins. IDM terminals are numbered on the
                                    mating end of the connector.)
                                </para>
                                <note>
                                    <para>Test points are from ECM to IDM.</para>
                                </note>
                            </entry>
                        </row>
                        <row>
                            <entry colname="col1">
                                <para>ECM X1-19 to IDM X3-5</para>
                            </entry>
                            <entry colname="col2">
                                <para>&#60;5&#x2126;</para>
                            </entry>
                            <entry colname="col3">
                                <para>If >5&#x2126;, check for open in harness</para>
                            </entry>
                        </row>
                        <row>
                            <entry colname="col1">
                                <para>ECM X1-24 to IDM X3-10</para>
                            </entry>
                            <entry colname="col2">
                                <para>&#60;5&#x2126;</para>
                            </entry>
                            <entry colname="col3">
                                <para>If >5&#x2126;, check for open in harness</para>
                            </entry>
                        </row>
                        <row>
                            <entry colname="col1">
                                <para>ECM X2-6 to IDM X3-30</para>
                            </entry>
                            <entry colname="col2">
                                <para>&#60;5&#x2126;</para>
                            </entry>
                            <entry colname="col3">
                                <para>If >5&#x2126;, check for open in harness</para>
                            </entry>
                        </row>
                        <row>
                            <entry colname="col1">
                                <para>ECM X2-13 to IDM X3-31</para>
                            </entry>
                            <entry colname="col2">
                                <para>&#60;5&#x2126;</para>
                            </entry>
                            <entry colname="col3">
                                <para>If >5&#x2126;, check for open in harness</para>
                            </entry>
                        </row>
                        <row>
                            <entry colname="col1">
                                <para>ECM X2-12 to IDM X3-32</para>
                            </entry>
                            <entry colname="col2">
                                <para>&#60;5&#x2126;</para>
                            </entry>
                            <entry colname="col3">
                                <para>If >5&#x2126;, check for open in harness</para>
                            </entry>
                        </row>
                    </tbody>
                </tgroup>
            </table>
            <figure id="f24007" figsize="pg-wide">
                <graphic id="d31107" filename="../figd31/D31107.webp" type="webp" scalefit="1" scalefitwidth="472px"/>
                <caption>ECM / IDM Circuit Diagram</caption>
            </figure>
            <table id="te24007030" tblwidth="pg-wide" frame="topbot">
                <tgroup cols="5">
                    <colspec colname="col1" colwidth="1.56in"/>
                    <colspec colname="col2" colwidth="1.36in"/>
                    <colspec colname="COLSPEC0" colwidth="2.99*"/>
                    <colspec colname="COLSPEC1" colwidth="3.24*"/>
                    <colspec colname="COLSPEC2" colwidth="3.28*"/>
                    <spanspec namest="col1" nameend="COLSPEC2" spanname="SPAN1"/>
                    <tbody>
                        <row>
                            <entry colspan="5" spanname="SPAN1">
                                <para>
                                    <emph type="bold">Operational Checks for CMPO and CKPO</emph>
                                    (Check with breakout box installed to ECM and engine harness.)
                                </para>
                            </entry>
                        </row>
                        <row>
                            <entry colname="col1">
                                <para>
                                    <emph type="bold">Test Point</emph>
                                </para>
                            </entry>
                            <entry colname="col2">
                                <para>Engine Cranking</para>
                            </entry>
                            <entry colname="COLSPEC0">
                                <para>Low Idle</para>
                            </entry>
                            <entry colname="COLSPEC1">
                                <para>High Idle</para>
                            </entry>
                            <entry colname="COLSPEC2">
                                <para>Comments</para>
                            </entry>
                        </row>
                        <row>
                            <entry colname="col1">
                                <para>X1-24 to X1-6</para>
                            </entry>
                            <entry colname="col2">
                                <para>130-225 rpm
                                    <supscript>2</supscript>
                                    @ 130-225 rpm
                                </para>
                            </entry>
                            <entry colname="COLSPEC0">
                                <para>700 rpm
                                    <supscript>2</supscript>
                                    @ 700 rpm
                                </para>
                            </entry>
                            <entry colname="COLSPEC1">
                                <para>2950 rpm
                                    <supscript>2</supscript>
                                    @ 2950 rpm
                                </para>
                            </entry>
                            <entry colname="COLSPEC2">
                                <para>Set DMM to DC-rpm
                                    <supscript>2</supscript>
                                </para>
                            </entry>
                        </row>
                        <row>
                            <entry colname="col1">
                                <para>X1-19 to X1-6</para>
                            </entry>
                            <entry colname="col2">
                                <para>130-225 Hz @ 130-225 rpm</para>
                            </entry>
                            <entry colname="COLSPEC0">
                                <para>700 Hz @ 700 rpm</para>
                            </entry>
                            <entry colname="COLSPEC1">
                                <para>2.95 Hz @ 2950 rpm</para>
                            </entry>
                            <entry colname="COLSPEC2">
                                <para>Set DMM to DC-Hz</para>
                            </entry>
                        </row>
                        <row>
                            <entry colspan="5" spanname="SPAN1">
                                <para>
                                    <emph type="bold">Diagnostic Trouble Code Description</emph>
                                </para>
                            </entry>
                        </row>
                        <row>
                            <entry colspan="5" spanname="SPAN1">
                                <para>DTC 543 = ECM / IDM communication fault</para>
                            </entry>
                        </row>
                        <row>
                            <entry colspan="5" spanname="SPAN1">
                                <para>DTC 551 = IDM CMPO signal inactive</para>
                            </entry>
                        </row>
                        <row>
                            <entry colspan="5" spanname="SPAN1">
                                <para>DTC 552 = IDM incorrect CMPO signal signature</para>
                            </entry>
                        </row>
                        <row>
                            <entry colspan="5" spanname="SPAN1">
                                <para>DTC 553 = IDM CKPO signal inactive</para>
                            </entry>
                        </row>
                        <row>
                            <entry colspan="5" spanname="SPAN1">
                                <para>DTC 554 = IDM incorrect CKPO signal signature</para>
                            </entry>
                        </row>
                    </tbody>
                </tgroup>
            </table>
        </svcsubproc>
    </svcproc>
    <table>
        <tgroup cols="3">
            <tbody>
                <row>
                    <entry>
                        <para>
                            <hotlnk document="eges240_139.xml">
                                <con_previous/>
                            </hotlnk>
                        </para>
                    </entry>
                    <entry>
                        <para>
                            <hotlnk document="eges240_141.xml">
                                <con_next/>
                            </hotlnk>
                        </para>
                    </entry>
                    <entry>
                        <para>
                            <hotlnk document="eges240.htm" target="_top">
                                <con_toc/>
                            </hotlnk>
                        </para>
                    </entry>
                </row>
            </tbody>
        </tgroup>
    </table>
</isis>
